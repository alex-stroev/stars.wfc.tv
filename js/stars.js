!function(){var t=[,function(t,a,e){var n,s,r;window.jQuery,window.Zepto,s=[e(2)],n=function(t){"use strict";var a=function(a,e,n){var s={invalid:[],getCaret:function(){try{var t,e=0,n=a.get(0),r=document.selection,i=n.selectionStart;return r&&-1===navigator.appVersion.indexOf("MSIE 10")?((t=r.createRange()).moveStart("character",-s.val().length),e=t.text.length):(i||"0"===i)&&(e=i),e}catch(t){}},setCaret:function(t){try{if(a.is(":focus")){var e,n=a.get(0);n.setSelectionRange?n.setSelectionRange(t,t):((e=n.createTextRange()).collapse(!0),e.moveEnd("character",t),e.moveStart("character",t),e.select())}}catch(t){}},events:function(){a.on("keydown.mask",(function(t){a.data("mask-keycode",t.keyCode||t.which),a.data("mask-previus-value",a.val()),a.data("mask-previus-caret-pos",s.getCaret()),s.maskDigitPosMapOld=s.maskDigitPosMap})).on(t.jMaskGlobals.useInput?"input.mask":"keyup.mask",s.behaviour).on("paste.mask drop.mask",(function(){setTimeout((function(){a.keydown().keyup()}),100)})).on("change.mask",(function(){a.data("changed",!0)})).on("blur.mask",(function(){o===s.val()||a.data("changed")||a.trigger("change"),a.data("changed",!1)})).on("blur.mask",(function(){o=s.val()})).on("focus.mask",(function(a){!0===n.selectOnFocus&&t(a.target).select()})).on("focusout.mask",(function(){n.clearIfNotMatch&&!r.test(s.val())&&s.val("")}))},getRegexMask:function(){for(var t,a,n,s,r,o,l=[],c=0;c<e.length;c++)(t=i.translation[e.charAt(c)])?(a=t.pattern.toString().replace(/.{1}$|^.{1}/g,""),n=t.optional,(s=t.recursive)?(l.push(e.charAt(c)),r={digit:e.charAt(c),pattern:a}):l.push(n||s?a+"?":a)):l.push(e.charAt(c).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"));return o=l.join(""),r&&(o=o.replace(new RegExp("("+r.digit+"(.*"+r.digit+")?)"),"($1)?").replace(new RegExp(r.digit,"g"),r.pattern)),new RegExp(o)},destroyEvents:function(){a.off(["input","keydown","keyup","paste","drop","blur","focusout",""].join(".mask "))},val:function(t){var e,n=a.is("input")?"val":"text";return arguments.length>0?(a[n]()!==t&&a[n](t),e=a):e=a[n](),e},calculateCaretPosition:function(t){var e=s.getMasked(),n=s.getCaret();if(t!==e){var r=a.data("mask-previus-caret-pos")||0,i=e.length,o=t.length,l=0,c=0,u=0,p=0,f=0;for(f=n;f<i&&s.maskDigitPosMap[f];f++)c++;for(f=n-1;f>=0&&s.maskDigitPosMap[f];f--)l++;for(f=n-1;f>=0;f--)s.maskDigitPosMap[f]&&u++;for(f=r-1;f>=0;f--)s.maskDigitPosMapOld[f]&&p++;if(n>o)n=10*i;else if(r>=n&&r!==o){if(!s.maskDigitPosMapOld[n]){var h=n;n-=p-u,n-=l,s.maskDigitPosMap[n]&&(n=h)}}else n>r&&(n+=u-p,n+=c)}return n},behaviour:function(e){e=e||window.event,s.invalid=[];var n=a.data("mask-keycode");if(-1===t.inArray(n,i.byPassKeys)){var r=s.getMasked(),o=s.getCaret(),l=a.data("mask-previus-value")||"";return setTimeout((function(){s.setCaret(s.calculateCaretPosition(l))}),t.jMaskGlobals.keyStrokeCompensation),s.val(r),s.setCaret(o),s.callbacks(e)}},getMasked:function(t,a){var r,o,l,c=[],u=void 0===a?s.val():a+"",p=0,f=e.length,h=0,d=u.length,v=1,k="push",g=-1,m=0,b=[];for(n.reverse?(k="unshift",v=-1,r=0,p=f-1,h=d-1,o=function(){return p>-1&&h>-1}):(r=f-1,o=function(){return p<f&&h<d});o();){var y=e.charAt(p),M=u.charAt(h),x=i.translation[y];x?(M.match(x.pattern)?(c[k](M),x.recursive&&(-1===g?g=p:p===r&&p!==g&&(p=g-v),r===g&&(p-=v)),p+=v):M===l?(m--,l=void 0):x.optional?(p+=v,h-=v):x.fallback?(c[k](x.fallback),p+=v,h-=v):s.invalid.push({p:h,v:M,e:x.pattern}),h+=v):(t||c[k](y),M===y?(b.push(h),h+=v):(l=y,b.push(h+m),m++),p+=v)}var w=e.charAt(r);f!==d+1||i.translation[w]||c.push(w);var $=c.join("");return s.mapMaskdigitPositions($,b,d),$},mapMaskdigitPositions:function(t,a,e){var r=n.reverse?t.length-e:0;s.maskDigitPosMap={};for(var i=0;i<a.length;i++)s.maskDigitPosMap[a[i]+r]=1},callbacks:function(t){var r=s.val(),i=r!==o,l=[r,t,a,n],c=function(t,a,e){"function"==typeof n[t]&&a&&n[t].apply(this,e)};c("onChange",!0===i,l),c("onKeyPress",!0===i,l),c("onComplete",r.length===e.length,l),c("onInvalid",s.invalid.length>0,[r,t,a,s.invalid,n])}};a=t(a);var r,i=this,o=s.val();e="function"==typeof e?e(s.val(),void 0,a,n):e,i.mask=e,i.options=n,i.remove=function(){var t=s.getCaret();return i.options.placeholder&&a.removeAttr("placeholder"),a.data("mask-maxlength")&&a.removeAttr("maxlength"),s.destroyEvents(),s.val(i.getCleanVal()),s.setCaret(t),a},i.getCleanVal=function(){return s.getMasked(!0)},i.getMaskedVal=function(t){return s.getMasked(!1,t)},i.init=function(o){if(o=o||!1,n=n||{},i.clearIfNotMatch=t.jMaskGlobals.clearIfNotMatch,i.byPassKeys=t.jMaskGlobals.byPassKeys,i.translation=t.extend({},t.jMaskGlobals.translation,n.translation),i=t.extend(!0,{},i,n),r=s.getRegexMask(),o)s.events(),s.val(s.getMasked());else{n.placeholder&&a.attr("placeholder",n.placeholder),a.data("mask")&&a.attr("autocomplete","off");for(var l=0,c=!0;l<e.length;l++){var u=i.translation[e.charAt(l)];if(u&&u.recursive){c=!1;break}}c&&a.attr("maxlength",e.length).data("mask-maxlength",!0),s.destroyEvents(),s.events();var p=s.getCaret();s.val(s.getMasked()),s.setCaret(p)}},i.init(!a.is("input"))};t.maskWatchers={};var e=function(){var e=t(this),s={},r="data-mask-",i=e.attr("data-mask");if(e.attr(r+"reverse")&&(s.reverse=!0),e.attr(r+"clearifnotmatch")&&(s.clearIfNotMatch=!0),"true"===e.attr(r+"selectonfocus")&&(s.selectOnFocus=!0),n(e,i,s))return e.data("mask",new a(this,i,s))},n=function(a,e,n){n=n||{};var s=t(a).data("mask"),r=JSON.stringify,i=t(a).val()||t(a).text();try{return"function"==typeof e&&(e=e(i)),"object"!=typeof s||r(s.options)!==r(n)||s.mask!==e}catch(t){}},s=function(t){var a,e=document.createElement("div");return(a=(t="on"+t)in e)||(e.setAttribute(t,"return;"),a="function"==typeof e[t]),e=null,a};t.fn.mask=function(e,s){s=s||{};var r=this.selector,i=t.jMaskGlobals,o=i.watchInterval,l=s.watchInputs||i.watchInputs,c=function(){if(n(this,e,s))return t(this).data("mask",new a(this,e,s))};return t(this).each(c),r&&""!==r&&l&&(clearInterval(t.maskWatchers[r]),t.maskWatchers[r]=setInterval((function(){t(document).find(r).each(c)}),o)),this},t.fn.masked=function(t){return this.data("mask").getMaskedVal(t)},t.fn.unmask=function(){return clearInterval(t.maskWatchers[this.selector]),delete t.maskWatchers[this.selector],this.each((function(){var a=t(this).data("mask");a&&a.remove().removeData("mask")}))},t.fn.cleanVal=function(){return this.data("mask").getCleanVal()},t.applyDataMask=function(a){((a=a||t.jMaskGlobals.maskElements)instanceof t?a:t(a)).filter(t.jMaskGlobals.dataMaskAttr).each(e)};var r={maskElements:"input,td,span,div",dataMaskAttr:"*[data-mask]",dataMask:!0,watchInterval:300,watchInputs:!0,keyStrokeCompensation:10,useInput:!/Chrome\/[2-4][0-9]|SamsungBrowser/.test(window.navigator.userAgent)&&s("input"),watchDataMask:!1,byPassKeys:[9,16,17,18,36,37,38,39,40,91],translation:{0:{pattern:/\d/},9:{pattern:/\d/,optional:!0},"#":{pattern:/\d/,recursive:!0},A:{pattern:/[a-zA-Z0-9]/},S:{pattern:/[a-zA-Z]/}}};t.jMaskGlobals=t.jMaskGlobals||{},(r=t.jMaskGlobals=t.extend(!0,{},r,t.jMaskGlobals)).dataMask&&t.applyDataMask(),setInterval((function(){t.jMaskGlobals.watchDataMask&&t.applyDataMask()}),r.watchInterval)},void 0===(r="function"==typeof n?n.apply(a,s):n)||(t.exports=r)},function(t){"use strict";t.exports=$}],a={};function e(n){var s=a[n];if(void 0!==s)return s.exports;var r=a[n]={exports:{}};return t[n](r,r.exports,e),r.exports}!function(){e(1);document.getElementById("form");$(document).ready((function(){(l=$("input[type=file]")).on("change",(function(t){var a=$(this),e=a.siblings("span"),n=a.parent("label").attr("data-default");thisVal=a.val(),""!==thisVal?e.text(thisVal):e.text(n)})),$("input[name='phone']").mask("+0 (000) 000-0000");var t=$("input[name='birthday']");t.on("focus touchstart",(function(t){$(this).get(0).type="date"})),t.on("blur touchend",(function(t){var a=$(this);""===a.val()&&(a.get(0).type="text")})),$("select").select2({});var a=$(".jsHintTrig");a.on("mouseenter",(function(t){$(this).siblings(".jsHint").show()})),a.on("mouseleave",(function(t){$(this).siblings(".jsHint").hide()}));for(var e=window.location.search.replace("?","").split("&"),n=0,s=e.length;n<s;n++){var r=e[n].split("="),i=[r[0]],o=[r[1]];$("<input>").attr({type:"hidden",name:"others["+i+"]",value:o}).appendTo($("#wfc_form"))}var l=$("input[type=file]"),c=$(".jsFilelimit"),u=l.siblings("span"),p=$("body"),f="Не более 5 фотографий, общим объемом не более 10 мб",h=$("<div>").css({position:"fixed",top:"0",left:"0",width:"100%",height:"100%",background:"rgba(0, 0, 0, 0.8)",color:"#fff","font-size":"24px",display:"-webkit-box",display:"-ms-flexbox",display:"flex","-webkit-box-align":"center","-ms-flex-align":"center","align-items":"center","text-align":"center","-webkit-box-pack":"center","-ms-flex-pack":"center","justify-content":"center",padding:"20%","box-sizing":"border-box",cursor:"pointer","z-index":"9999"});l.change((function(t){var a=this.files.length,e=0;for(console.log("Кол-во файлов:"+a),n=0;n<a;n++)e+=this.files[n].size,console.log("Вес файла "+n+": "+e);a?a>5?(l.val(),u.text("Фото*"),c.html(f),h.appendTo(p).html("Не более 5 файлов! Вы загрузили "+a+".<br> Попробуйте еще раз))").click((function(t){$(this).remove()}))):e>11010048?(l.val(),u.text("Фото*"),c.html(f),h.appendTo(p).html("Суммарный объем фото&nbsp;&mdash; не&nbsp;более 10&nbsp;мб! Вы загрузили "+parseFloat(e/1024/1024).toFixed(2)+" мБ. <br> Попробуйте еще раз))").click((function(t){$(this).remove()}))):c.html("Выбрано "+a+" фото общим объемом "+parseFloat(e/1024/1024).toFixed(2)+" мб"):c.html(f)}))}))}()}();